{"version":3,"sources":["components/imageGallery/imageGallery.module.css","components/button/button.module.css","components/searchBar/searchBar.module.css","services/api.js","components/searchBar/Searchbar.js","components/imageGallery/imageGalleryItem/ImageGalleryItem.js","components/imageGallery/ImageGallery.js","components/button/Button.js","components/loader/Preloader.js","components/modal/Modal.js","components/notification/Notification.js","components/App.js","index.js","components/imageGallery/imageGalleryItem/imageGalleryItem.module.css","components/modal/modal.module.css"],"names":["module","exports","baseUrl","API_KEY","fetchImages","query","page","axios","get","Searchbar","handleChange","handleSubmit","className","style","SearchForm","onSubmit","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","value","autoFocus","placeholder","onChange","defaultProps","ImageGalleryItem","image","openModal","href","largeImage","onClick","src","smallImage","alt","data-large","ImageGalleryItemImage","ImageGallery","images","map","key","id","Button","handleClick","styles","Preloader","color","height","width","timeout","Modal","overlayRef","createRef","handleKeyDown","e","code","props","closeModal","handleOverlayClick","current","target","window","addEventListener","this","removeEventListener","currentImage","Overlay","ref","onKeyDown","Component","Notification","text","App","state","isLoading","isOpen","error","timer","setTimeout","setState","preventDefault","then","data","mapper","hits","catch","finally","scroll","scrollTo","top","document","body","scrollHeight","behavior","webformatURL","largeImageURL","getAttribute","length","message","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.12d74149.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"imageGallery_ImageGallery__1wRJa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"button_Button__2D_9L\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"searchBar_Searchbar__26HOk\",\"SearchForm\":\"searchBar_SearchForm__3cgAZ\",\"SearchFormButton\":\"searchBar_SearchFormButton__z0HyK\",\"SearchFormButtonLabel\":\"searchBar_SearchFormButtonLabel__37wxw\",\"SearchFormInput\":\"searchBar_SearchFormInput__Y9WTK\"};","import axios from 'axios';\n\nconst baseUrl = 'https://pixabay.com/api/';\nconst API_KEY = '16013941-0b7abfb5c3f07bad798dbf718';\n\nconst fetchImages = (query = '', page = 1) =>\n  axios.get(\n    `${baseUrl}?image_type=photo&orientation=horizontal&q=${query}&page=${page}&per_page=12&key=${API_KEY}`,\n  );\n\nexport default fetchImages;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport style from './searchBar.module.css';\n\nconst Searchbar = ({ query, handleChange, handleSubmit }) => (\n  <header className={style.Searchbar}>\n    <form className={style.SearchForm} onSubmit={handleSubmit}>\n      <button type=\"submit\" className={style.SearchFormButton}>\n        <span className={style.SearchFormButtonLabel}>Search</span>\n      </button>\n\n      <input\n        className={style.SearchFormInput}\n        type=\"text\"\n        autoComplete=\"off\"\n        value={query}\n        autoFocus\n        placeholder=\"Search images and photos\"\n        onChange={handleChange}\n      />\n    </form>\n  </header>\n);\n\nSearchbar.defaultProps = { query: '' };\n\nSearchbar.propTypes = {\n  handleSubmit: PropTypes.func.isRequired,\n  handleChange: PropTypes.func.isRequired,\n  query: PropTypes.string,\n};\nexport default Searchbar;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport style from './imageGalleryItem.module.css';\n\nconst ImageGalleryItem = ({ image, openModal }) => (\n  <li className={style.ImageGalleryItem}>\n    <a href={image.largeImage} onClick={openModal}>\n      <img\n        src={image.smallImage}\n        alt=\"\"\n        data-large={image.largeImage}\n        className={style.ImageGalleryItemImage}\n      />\n    </a>\n  </li>\n);\n\nImageGalleryItem.propTypes = {\n  openModal: PropTypes.func.isRequired,\n  image: PropTypes.oneOfType([\n    PropTypes.array,\n    PropTypes.string,\n    PropTypes.object,\n    PropTypes.number,\n  ]).isRequired,\n};\n\nexport default ImageGalleryItem;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport style from './imageGallery.module.css';\nimport ImageGalleryItem from './imageGalleryItem/ImageGalleryItem';\n\nconst ImageGallery = ({ images, openModal }) => (\n  <ul className={style.ImageGallery}>\n    {images.map(image => (\n      <ImageGalleryItem key={image.id} image={image} openModal={openModal} />\n    ))}\n  </ul>\n);\n\nImageGallery.defaultProps = {\n  images: [],\n};\n\nImageGallery.propTypes = {\n  images: PropTypes.arrayOf(PropTypes.object),\n  openModal: PropTypes.func.isRequired,\n};\n\nexport default ImageGallery;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './button.module.css';\n\nconst Button = ({ handleClick }) => (\n  <button className={styles.Button} type=\"button\" onClick={handleClick}>\n    Load more\n  </button>\n);\n\nButton.propTypes = {\n  handleClick: PropTypes.func.isRequired,\n};\n\nexport default Button;\n","import React from 'react';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport Loader from 'react-loader-spinner';\n\nconst Preloader = () => (\n  <div className=\"spinnerOverlay \">\n    <Loader\n      type=\"Grid\"\n      color=\"#122286\"\n      height={100}\n      width={100}\n      timeout={30000}\n    />\n  </div>\n);\n\nexport default Preloader;\n","import React, { Component, createRef } from 'react';\nimport PropTypes from 'prop-types';\nimport style from './modal.module.css';\n\nclass Modal extends Component {\n  overlayRef = createRef();\n\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyDown);\n  }\n\n  handleKeyDown = e => {\n    if (e.code !== 'Escape') return;\n\n    this.props.closeModal();\n  };\n\n  handleOverlayClick = e => {\n    const { current } = this.overlayRef;\n\n    if (current && e.target !== current) {\n      return;\n    }\n\n    this.props.closeModal();\n  };\n\n  render() {\n    const { currentImage } = this.props;\n    return (\n      // eslint-disable-next-line jsx-a11y/no-static-element-interactions\n      <div\n        className={style.Overlay}\n        ref={this.overlayRef}\n        onClick={this.handleOverlayClick}\n        onKeyDown={this.handleKeyDown}\n      >\n        <div className={style.Modal}>\n          <img src={currentImage} alt=\"\" />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Modal;\n\n// const Modal = ({ currentImage }) => (\n//   <div className={style.Overlay}>\n//     <div className={style.Modal}>\n//       <img src={currentImage} alt=\"\" />\n//     </div>\n//   </div>\n// );\n\nModal.defaultProps = {\n  currentImage: '',\n};\n\nModal.propTypes = {\n  currentImage: PropTypes.string,\n  closeModal: PropTypes.func.isRequired,\n};\n\n// export default Modal;\n","import React from 'react';\n\n/* eslint-disable-next-line */\nconst Notification = ({ text }) => (\n  <h1>Whoops, something went wrong: {text}</h1>\n);\n\nexport default Notification;\n","/* eslint-disable no-console */\nimport React, { Component } from 'react';\nimport fetchImages from '../services/api';\nimport Searchbar from './searchBar/Searchbar';\nimport ImageGallery from './imageGallery/ImageGallery';\nimport Button from './button/Button';\nimport Preloader from './loader/Preloader';\nimport Modal from './modal/Modal';\nimport Notification from './notification/Notification';\n\nclass App extends Component {\n  state = {\n    images: [],\n    query: '',\n    page: 1,\n    isLoading: false,\n    isOpen: false,\n    currentImage: '',\n    error: null,\n  };\n\n  componentDidMount() {\n    this.setState({ isLoading: true });\n    fetchImages()\n      .then(({ data }) => this.setState({ images: this.mapper(data.hits) }))\n      .catch(error => this.setState({ error }))\n      .finally(this.timer());\n  }\n\n  timer = () => {\n    setTimeout(() => this.setState({ isLoading: false }), 1000);\n  };\n\n  handleChange = e => {\n    this.setState({\n      query: e.target.value,\n    });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n    const { query, error } = this.state;\n    this.setState({ images: [], isLoading: true });\n    fetchImages(query, 1)\n      .then(({ data }) => this.setState({ images: this.mapper(data.hits) }))\n      .catch(() => this.setState({ error }))\n      .finally(this.timer());\n  };\n\n  handleClick = () => {\n    const { query, page, error } = this.state;\n    this.setState({ isLoading: true });\n    fetchImages(query, page + 1)\n      .then(({ data }) => {\n        this.setState(state => ({\n          images: [...state.images, ...this.mapper(data.hits)],\n          page: state.page + 1,\n        }));\n        return data;\n      })\n      .then(() => this.scroll())\n      .catch(() => this.setState({ error }))\n      .finally(this.timer());\n  };\n\n  scroll = () => {\n    window.scrollTo({\n      top: document.body.scrollHeight,\n      behavior: 'smooth',\n    });\n  };\n\n  mapper = images => {\n    return images.map(\n      ({ webformatURL: smallImage, largeImageURL: largeImage, ...props }) => ({\n        smallImage,\n        largeImage,\n        ...props,\n      }),\n    );\n  };\n\n  openModal = e => {\n    e.preventDefault();\n    this.setState({\n      isOpen: true,\n      currentImage: e.target.getAttribute('data-large'),\n      isLoading: true,\n    });\n    this.timer();\n  };\n\n  closeModal = () => {\n    this.setState({\n      isOpen: false,\n      currentImage: '',\n    });\n  };\n\n  render() {\n    const {\n      images,\n      query,\n      isLoading,\n      isOpen,\n      currentImage,\n      error,\n    } = this.state;\n    return (\n      <>\n        <Searchbar\n          query={query}\n          handleChange={this.handleChange}\n          handleSubmit={this.handleSubmit}\n        />\n        {(images.length > 0 && (\n          <ImageGallery images={images} openModal={this.openModal} />\n        )) || <Notification text=\"No results were found for your request!\" />}\n\n        {isLoading && <Preloader />}\n        {error && <Notification text={error.message} />}\n        {images.length > 0 && <Button handleClick={this.handleClick} />}\n        {isOpen && (\n          <Modal closeModal={this.closeModal} currentImage={currentImage} />\n        )}\n      </>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles.css';\nimport App from './components/App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"imageGalleryItem_ImageGalleryItem__3Rlrj\",\"ImageGalleryItemImage\":\"imageGalleryItem_ImageGalleryItemImage__2Zk47\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"modal_Overlay__15l-u\",\"Modal\":\"modal_Modal__3Ssrg\"};"],"sourceRoot":""}